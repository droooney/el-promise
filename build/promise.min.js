!function(){"use strict";var n=function(n){return"function"==typeof n},e=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},t=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r={},o=window.Symbol?window.Symbol.iterator:Math.random().toString(36),u={},i=u.toString,c=function(){function u(t){function o(e){"pending"===d.status&&!function(){d.status="rejected",d.value=e;for(var t=0,r=s.length;t<r;t++)d.handled=!0,s[t](e);var o=u.onUnhandledRejection,i=u.onError;n(i)&&i(e),setTimeout(function(){!d.handled&&n(o)&&o(e)},1)}()}function c(e){if("pending"===d.status){if(e&&n(e.then))return e.then(function(n){c(n)},function(n){o(n)});d.status="fulfilled",d.value=e;for(var t=0,r=l.length;t<r;t++)d.handled=!0,l[t](e)}}if(e(this,u),!n(t))throw new TypeError("Promise resolver "+i.call(t)+" is not a function");var a=void 0,f=void 0,l=[],s=[],v=this,d={handled:!1,get status(){return a},set status(n){a=n,v.status=n},get value(){return f},set value(n){f=n,v.value=n}};d.status="pending",d.value=void 0,Object.defineProperties(this.$$={},{handled:{get:function(){return d.handled},set:function(n){n===r&&(d.handled=!0)}},handle:{value:function(e,t,o,u,i){if(i===r){var c=null;n(t)&&(c=function(n){try{o(t(n))}catch(n){u(n)}}),"resolve"===e?l.push(c||function(n){return o(n)}):"reject"===e&&s.push(c||function(n){return u(n)})}}},status:{get:function(){return d.status}},value:{get:function(){return d.value}}});try{t(c,o)}catch(n){o(n)}}return t(u,[{key:"abort",value:function(){}},{key:"catch",value:function(n){return this.then(null,n)}},{key:"finally",value:function(e){var t=n(e);return this.then(function(n){return u.resolve(t?e():0).then(function(){return n})},function(n){return u.resolve(t?e():0).then(function(){return u.reject(n)})})}},{key:"then",value:function(e,t){var o=this.$$;if("pending"===o.status)return new u(function(n,u){o.handle("reject",t,n,u,r),o.handle("resolve",e,n,u,r)});o.handled=r;var i=o.value,c=void 0,a=void 0;if("fulfilled"===o.status?(c="resolve",a=e):(c="reject",a=t),!n(a))return u[c](i);try{return u.resolve(a(i))}catch(n){return u.reject(n)}}}],[{key:"all",value:function(n){var e=[],t=0;if(n[o])return n=n[o](),new u(function(r,o){for(var i=void 0,c=0,a=function(){var n=u.resolve(i.value);t++,function(u){n.then(function(n){t--,e[u]=n,setTimeout(function(){i.done&&!t&&r(e)},1)},o)}(c++)};!(i=n.next()).done;)a();if(!c)return u.resolve([])});var r=n.length;return r?(t=r,new u(function(o,i){for(var c=function(r){var c=u.resolve(n[r]);c.then(function(n){t--,e[r]=n,t||o(e)},i)},a=0;a<r;a++)c(a)})):u.resolve([])}},{key:"race",value:function(n){return n[o]?(n=n[o](),new u(function(e,t){for(var r=void 0;!(r=n.next()).done;)r.value.then(e,t)})):new u(function(e,t){for(var r=0,o=n.length;r<o;r++)n[r].then(e,t)})}},{key:"reject",value:function(n){return new u(function(e,t){t(n)})}},{key:"resolve",value:function(e){return e&&n(e.then)?e:new u(function(n){n(e)})}}]),u}();c.onError=null,c.onUnhandledRejection=console.error.bind(console,"%s %o","Uncaught (in promise)"),window.Promise=c}();
//# sourceMappingURL=promise.min.js.map
